<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate-key="pageTitle">Dados Enriquecidos: Convergência nas Bandeiras de Cartão</title>
    <!-- Carrega o Tailwind CSS para estilização -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ...estilos originais mantidos... */
        /* (O bloco <style> foi mantido igual ao original) */
        /* REMOVED: .ai-analysis-section button styles no longer needed but harmless to keep */
    </style>
</head>
<body>
    <div class="container">
        <!-- Seletor de Idioma (agora com botões) -->
        <div class="flex justify-end py-4 space-x-2">
            <button class="language-button active" data-lang="pt">PO</button>
            <button class="language-button" data-lang="en">EN</button>
            <button class="language-button" data-lang="es">ES</button>
        </div>

        <!-- Cabeçalho da Página -->
        <header class="header">
            <h1 data-translate-key="mainTitle">
                Dados Enriquecidos: A Convergência na Proteção de Pagamentos
            </h1>
            <p data-translate-key="mainSubtitle">
                Como Mastercard, Visa e Amex estão unindo forças com a inteligência de dados.
            </p>
        </header>

        <!-- ...demais seções mantidas... -->

        <!-- Nova Seção: Análise de Conteúdo com IA -->
        <section class="ai-analysis-section max-w-3xl mx-auto">
            <h2 class="section-title" data-translate-key="aiAnalysisTitle">✨ Análise de Conteúdo com IA: Obtenha Insights Rápidos ✨</h2>
            <p class="text-lg text-gray-700 text-justified mb-4" data-translate-key="aiAnalysisIntro">
                Cole um texto sobre prevenção de fraudes, dados ou pagamentos abaixo para que nossa IA extraia os principais insights e resumos para você.
            </p>
            <textarea id="aiInputText" placeholder="Cole seu texto aqui para análise..." data-translate-key="aiInputPlaceholder"></textarea>
            <!-- REMOVED: <button id="aiAnalyzeButton" data-translate-key="aiAnalyzeButton">✨ Gerar Insights ✨</button> -->
            <div id="aiLoadingIndicator" class="loading-indicator hidden" data-translate-key="aiLoading">Analisando... Por favor, aguarde.</div>
            <div id="aiOutput" class="ai-output hidden"></div>
        </section>

        <!-- Rodapé -->
        <footer class="footer">
            <p data-translate-key="copyright">&copy; 2025 AuthPros. Todos os direitos reservados.</p>
        </footer>
    </div>

    <script>
        // Objeto de traduções
        const translations = {
            pt: {
                // ... traduções originais ...
                aiOutputErrorGeneric: 'Esta funcionalidade de IA foi desativada. Nenhuma análise será realizada.',
                aiOutputError: 'Esta funcionalidade de IA foi desativada. Nenhuma análise será realizada.',
            },
            en: {
                // ... traduções originais ...
                aiOutputErrorGeneric: 'This AI functionality has been disabled. No analysis will be performed.',
                aiOutputError: 'This AI functionality has been disabled. No analysis will be performed.',
            },
            es: {
                // ... traduções originais ...
                aiOutputErrorGeneric: 'Esta funcionalidad de IA ha sido desactivada. No se realizará ningún análisis.',
                aiOutputError: 'Esta funcionalidad de IA ha sido desactivada. No se realizará ningún análisis.',
            }
        };

        function setLanguage(lang) {
            document.documentElement.lang = lang; // Define o atributo lang do HTML
            const elements = document.querySelectorAll('[data-translate-key]');
            elements.forEach(element => {
                const key = element.dataset.translateKey;
                if (translations[lang] && translations[lang][key]) {
                    // Para o placeholder do textarea, usa setAttribute
                    if (element.tagName === 'TEXTAREA' && element.hasAttribute('placeholder')) {
                        element.setAttribute('placeholder', translations[lang][key]);
                    } else if (element.tagName === 'BUTTON' && element.id === 'aiAnalyzeButton') {
                        element.innerHTML = translations[lang][key]; // Mantém o ícone
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });

            // Atualiza o título da página
            document.title = translations[lang].pageTitle;

            // Atualiza o estado ativo dos botões de idioma
            document.querySelectorAll('.language-button').forEach(button => {
                if (button.dataset.lang === lang) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Lógica dos botões de idioma
            const languageButtons = document.querySelectorAll('.language-button');
            languageButtons.forEach(button => {
                button.addEventListener('click', (event) => {
                    setLanguage(event.target.dataset.lang);
                });
            });

            // Define o idioma padrão ao carregar a página (Português)
            setLanguage('pt');

            // Lógica da seção IA (Google Gemini REMOVIDO, botão REMOVIDO)
            // No IA functionality, no button, nothing to do here now.
        });

        // Script para linkar os balões de dados aos detalhes expansíveis
        document.addEventListener('DOMContentLoaded', () => {
            const dataTypes = document.querySelectorAll('.data-type-item');

            dataTypes.forEach(item => {
                item.addEventListener('click', () => {
                    const targetId = item.dataset.targetId;
                    if (targetId) {
                        const targetDetails = document.getElementById(targetId);
                        if (targetDetails) {
                            // Fecha todos os outros detalhes abertos, se houver
                            document.querySelectorAll('.data-detail-card details[open]').forEach(openDetails => {
                                if (openDetails.id !== targetId) {
                                    openDetails.open = false;
                                }
                            });

                            // Abre o detalhe alvo
                            targetDetails.open = true;
                            // Rola a página para o detalhe aberto
                            targetDetails.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>
